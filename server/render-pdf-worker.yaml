services:
  - type: worker
    name: pdf-worker
    env: node
    buildCommand: pnpm install
    startCommand: node pdf-worker.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: QDRANT_URL
        value: ${QDRANT_URL}
      - key: QDRANT_API_KEY
        value: ${QDRANT_API_KEY}
      - key: HUGGINGFACEHUB_API_TOKEN
        value: ${HUGGINGFACEHUB_API_TOKEN}
      - key: GOOGLE_API_KEY
        value: ${GOOGLE_API_KEY}
      - key: HUGGINGFACEHUB_AUDIO_KEY
        value: ${HUGGINGFACEHUB_AUDIO_KEY}
      - key: SERVER_URL
        value: ${SERVER_URL}
      - key: REDIS_HOST
        value: ${REDIS_HOST}
      - key: REDIS_PORT
        value: ${REDIS_PORT}
      - key: REDIS_USERNAME
        value: ${REDIS_USERNAME}
      - key: REDIS_PASSWORD
        value: ${REDIS_PASSWORD}
      - key: REDIS_URL
        value: ${REDIS_URL}